const createFeedbackTemplate=(message,type='error')=>{const color=type==='error'?'red':'green';return `
        <p style="color: ${color}; font-size: 0.9em; margin-top: -10px; margin-bottom: 10px;">
            ${message}
        </p>
    `};function isCpfConsistent(cpf){cpf=cpf.replace(/[^\d]/g,"");if(cpf.length!==11)return!1;if(/^(\d)\1{10}$/.test(cpf))return!1;return!0}
function validateForm(event){event.preventDefault();const form=document.getElementById('cadastroForm');const cpfInput=document.getElementById('cpf');let isValid=!0;document.querySelectorAll('.feedback-message').forEach(el=>el.innerHTML='');document.getElementById('feedback-geral').innerHTML='';if(!isCpfConsistent(cpfInput.value)&&cpfInput.value.length>0){document.getElementById('feedback-cpf').innerHTML=createFeedbackTemplate("CPF inválido. Por favor, verifique a numeração.",'error');cpfInput.style.borderColor='red';isValid=!1}else{cpfInput.style.borderColor=''}
if(!form.checkValidity()){document.getElementById('feedback-geral').innerHTML=createFeedbackTemplate("Por favor, preencha todos os campos obrigatórios corretamente.",'error');isValid=!1}
if(isValid){document.getElementById('feedback-geral').innerHTML=createFeedbackTemplate("✅ Cadastro enviado com sucesso! Você será redirecionado.",'success');form.reset()}}
export function setupValidation(){const form=document.getElementById('cadastroForm');if(form){form.addEventListener('submit',validateForm);console.log("Validação JS do formulário de cadastro ativada.")}}